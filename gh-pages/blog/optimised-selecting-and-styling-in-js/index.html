<!DOCTYPE html>
  <html lang="en">
  <head>
    <link rel="stylesheet" href="/style.css">
    
    <link rel="preload" href="/elm.js" as="script">
    <link rel="modulepreload" href="/index.js">
    
    <script defer="defer" src="/elm.js" type="text/javascript"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <script type="module">
import userInit from"/index.js";
let prefetchedPages=[window.location.pathname],initialLocationHash=document.location.hash.replace(/^#/,"");function loadContentAndInitializeApp(){let a=window.location.pathname.replace(/(w)$/,"$1/");a.endsWith("/")||(a+="/");const b=Elm.TemplateModulesBeta.init({flags:{secrets:null,baseUrl:document.baseURI,isPrerendering:!1,isDevServer:!1,isElmDebugMode:!1,contentJson:JSON.parse(document.getElementById("__ELM_PAGES_DATA__").innerHTML),userFlags:userInit.flags()}});return b.ports.toJsPort.subscribe(()=>{loadNamedAnchor()}),b}function loadNamedAnchor(){if(""!==initialLocationHash){const a=document.querySelector(`[name=${initialLocationHash}]`);a&&a.scrollIntoView()}}function prefetchIfNeeded(a){if(a.host===window.location.host&&!prefetchedPages.includes(a.pathname)){prefetchedPages.push(a.pathname),console.log("Preloading...",a.pathname);const b=document.createElement("link");b.setAttribute("as","fetch"),b.setAttribute("rel","prefetch"),b.setAttribute("href",origin+a.pathname+"/content.json"),document.head.appendChild(b)}}const appPromise=new Promise(function(a){document.addEventListener("DOMContentLoaded",()=>{a(loadContentAndInitializeApp())})});userInit.load(appPromise),"function"==typeof connect&&connect(function(a){appPromise.then(b=>{b.ports.fromJsPort.send({contentJson:a})})});const trigger_prefetch=b=>{const c=find_anchor(b.target);c&&c.href&&c.hasAttribute("elm-pages:prefetch")&&prefetchIfNeeded(c)};let mousemove_timeout;const handle_mousemove=a=>{clearTimeout(mousemove_timeout),mousemove_timeout=setTimeout(()=>{trigger_prefetch(a)},20)};addEventListener("touchstart",trigger_prefetch),addEventListener("mousemove",handle_mousemove);function find_anchor(a){for(;a&&"A"!==a.nodeName.toUpperCase();)a=a.parentNode;return a}
    </script>
    <title>Optimised Selecting and Styling using vanilla JS | Jack Murphy</title>
    <meta name="generator" content="elm-pages v2.1.9">
    <link rel="manifest" href="/manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <link rel="canonical" href="https://murpjack.github.io/blog/optimised-selecting-and-styling-in-js" />    <meta name="description" content="Ways to edit styles/ select elements in the DOM using JavaScript and CSS." />    <meta property="og:image" content="" />    <meta property="og:image:secure_url" content="" />    <meta property="og:image:alt" content="Jack Murphy blog site logo" />    <meta property="og:title" content="Optimised Selecting and Styling using vanilla JS | Jack Murphy" />    <meta property="og:url" content="https://murpjack.github.io/blog/optimised-selecting-and-styling-in-js" />    <meta property="og:description" content="Ways to edit styles/ select elements in the DOM using JavaScript and CSS." />    <meta property="og:site_name" content="Jack Murphy" />    <meta property="twitter:card" content="summary" />    <meta property="twitter:title" content="Optimised Selecting and Styling using vanilla JS | Jack Murphy" />    <meta property="twitter:description" content="Ways to edit styles/ select elements in the DOM using JavaScript and CSS." />    <meta property="twitter:image" content="" />    <meta property="twitter:image:alt" content="Jack Murphy blog site logo" />    <meta property="og:type" content="website" />    <link rel="sitemap" type="application/xml" href="/sitemap.xml" />
    <script id="__ELM_PAGES_DATA__" type="application/json">{"staticData":{"2103259312":"{\"parsedFrontmatter\":{\"slug\":\"optimised-selecting-and-styling-in-js\",\"title\":\"Optimised Selecting and Styling using vanilla JS\",\"tags\":[\"web\"],\"publishDate\":\"2018-12-28\",\"description\":\"Ways to edit styles/ select elements in the DOM using JavaScript and CSS.\"},\"withoutFrontmatter\":\"\\nThis week I have been going through some old code and trying to improve page performance.  \\nOne significant way to improve performance on a web page or application is by looking at interactions between any javascript and the DOM. This can be a way to make quick improvements to overall performance on a site.\\n\\nGoogle offers a tool called _testmysite_, which does just that. They let you know site speed and offer improvements.  \\n<https://www.thinkwithgoogle.com/intl/en-gb/feature/testmysite>\\n\\nAlso, JSperf (<https://jsperf.com/>) allows you to see how fast different cases perform on different browsers.  \\nYou can find test cases for basic methods and ideas with a cursory search and adding jsperf to your query.\\n\\nThis article is just a few ways to edit styles/ select elements in the DOM using javascript and css. In no particular order here are some ideas:\\n\\n1.  **Use CSS selectors to style elements**  \\n     Dynamically styling the odd DOM element is unavoidable. For these occasions updating we can add/remove classes and use nested or relative css selectors to control any changes.  \\n     **JS**\\n\\n    ```js\\n    let container = document.getElementsByClassName('container')[0];\\n    let containerArrow = container.querySelector('.container:after');\\n    container.style.border = '2px solid red';\\n    container.style.color = 'red';\\n    container.style.marginTop = '10px';\\n    ```\\n\\n    Alternatively we can achieve the same result by styling this container and pseudo using css a class.\\n\\n    **CSS**\\n\\n    ```css\\n    .container {\\n      border: 2px solid black;\\n      margin-top: 0px;\\n    }\\n    .container:after {\\n      color: black;\\n    }\\n\\n    .container--error {\\n      border: 2px solid red;\\n      margin-top: 10px;\\n    }\\n\\n    .container--error:after {\\n      color: red;\\n    }\\n    ```\\n\\n    By using class styles, stored in css, it is more clear what our is happening too.  \\n    Here is a list of selectors to get you started:  \\n    <https://www.w3schools.com/cssref/css_selectors.asp>\\n\\n2.  **Select an ID, node or class and traverse**  \\n    According to a few jsperf tests the best way to select an element is by selecting an object by its ID or node (eg. div, or table), or class and traversing to nearby elements.  \\n     The reason that this is better than selecting individual elements is that there is just one interaction between the DOM and javascript script.  \\n    <https://javascript.info/dom-navigation>\\n\\n3.  **Store references to DOM objects in variables**  \\n    If you plan to select an element more than than once you should consider storing a reference of it in a variable. This means that your javascript know what is looking for and where it can find it.\\n\\nThis article only covers a couple of ways to be more performant, and is by no means exhaustive. Please leave a comment below with any other suggestions.\\n\"}"},"is404":false,"path":"blog/optimised-selecting-and-styling-in-js"}</script>
    </head>
    <body>
      <div data-url="" display="none"></div>
      <div><div class="header"><a href="/">Jack Murphy</a><a href="/blog">Blog</a></div><div class="wrapper"><div class="post"><p>Posted on 28th December 2018</p><h2>Optimised Selecting and Styling using vanilla JS</h2><p>You will read this in 1 minutes.</p><div><div><p>This week I have been going through some old code and trying to improve page performance.<br>One significant way to improve performance on a web page or application is by looking at interactions between any javascript and the DOM. This can be a way to make quick improvements to overall performance on a site.</p><p>Google offers a tool called <em>testmysite</em>, which does just that. They let you know site speed and offer improvements.<br><a href="https://www.thinkwithgoogle.com/intl/en-gb/feature/testmysite">https://www.thinkwithgoogle.com/intl/en-gb/feature/testmysite</a></p><p>Also, JSperf (<a href="https://jsperf.com/">https://jsperf.com/</a>) allows you to see how fast different cases perform on different browsers.<br>You can find test cases for basic methods and ideas with a cursory search and adding jsperf to your query.</p><p>This article is just a few ways to edit styles/ select elements in the DOM using javascript and css. In no particular order here are some ideas:</p><ol start="1"><li><p><strong>Use CSS selectors to style elements</strong><br> Dynamically styling the odd DOM element is unavoidable. For these occasions updating we can add/remove classes and use nested or relative css selectors to control any changes.<br> <strong>JS</strong></p><pre><code class="language-js">let container = document.getElementsByClassName(&#039;container&#039;)[0];
let containerArrow = container.querySelector(&#039;.container:after&#039;);
container.style.border = &#039;2px solid red&#039;;
container.style.color = &#039;red&#039;;
container.style.marginTop = &#039;10px&#039;;
</code></pre><p>Alternatively we can achieve the same result by styling this container and pseudo using css a class.</p><p><strong>CSS</strong></p><pre><code class="language-css">.container {
  border: 2px solid black;
  margin-top: 0px;
}
.container:after {
  color: black;
}


.container--error {
  border: 2px solid red;
  margin-top: 10px;
}


.container--error:after {
  color: red;
}
</code></pre><p>By using class styles, stored in css, it is more clear what our is happening too.<br>Here is a list of selectors to get you started:<br><a href="https://www.w3schools.com/cssref/css_selectors.asp">https://www.w3schools.com/cssref/css_selectors.asp</a></p></li><li><p><strong>Select an ID, node or class and traverse</strong><br>According to a few jsperf tests the best way to select an element is by selecting an object by its ID or node (eg. div, or table), or class and traversing to nearby elements.<br> The reason that this is better than selecting individual elements is that there is just one interaction between the DOM and javascript script.<br><a href="https://javascript.info/dom-navigation">https://javascript.info/dom-navigation</a></p></li><li><p><strong>Store references to DOM objects in variables</strong><br>If you plan to select an element more than than once you should consider storing a reference of it in a variable. This means that your javascript know what is looking for and where it can find it.</p></li></ol><p>This article only covers a couple of ways to be more performant, and is by no means exhaustive. Please leave a comment below with any other suggestions.</p></div></div></div></div></div>
    </body>
  </html>
  